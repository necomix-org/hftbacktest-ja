[
  {
    "index": 0,
    "source": [
      "# 複数の市場を作る\n",
      "\n",
      "## 概要\n",
      "\n",
      "資産を分散し、市場作りのブックを構築することで、分散効果を通じてリスク調整後のリターンを向上させることができます。この例では、市場を作る資産の数を増やすにつれて、市場作りポートフォリオの統計がどのように変化するかを示します。\n",
      "\n",
      "GLFTマーケットメイキングモデルを使用して複数の資産でグリッドトレーディングを実装するには、いくつかの修正が必要です。パラメータを調整する必要はありません。\n",
      "\n",
      "資産ごとに価格、取引量、オーダーブックの流動性が異なるため、注文数量が異なります。すべてを一度にバックテストするには、注文数量を正規化し、それに応じて調整する必要があります。\n",
      "\n",
      "一部の資産では、市場取引が主に最良買い気配値と最良売り気配値のレベルで行われます。市場取引が私たちのクォートと一致する場合にのみ取引強度を計算するため、そのような場合には取引強度関数に適した取引強度を達成できない可能性があります。その結果、オーダー到着深度に基づいてハーフスプレッドとスキューを決定するための代替方法を検討する必要があります。または、より深いオーダー到着深度を得るために反応間隔を増やす必要がありますが、これは特に急速に動く市場では遅延反応を引き起こします。\n",
      "\n",
      "$adj_2$が異なる注文数量を正規化するためにどのように決定されるかを確認してください。\n",
      "\n",
      "<div class=\"alert alert-info\">\n",
      "    \n",
      "**注:** この例は教育目的のみであり、高頻度マーケットメイキングスキームの効果的な戦略を示しています。すべてのバックテストは、Binance Futuresで利用可能な最高のマーケットメイカーリベートである0.005％のリベートに基づいています。詳細については、<a href=\"https://www.binance.com/en/support/announcement/binance-updates-usd%E2%93%A2-margined-futures-liquidity-provider-program-2024-06-03-fefc6aa25e0947e2bf745c1c56bea13e\">Binance Upgrades USDⓢ-Margined Futures Liquidity Provider Program</a> を参照してください。\n",
      "    \n",
      "</div>"
    ]
  },
  {
    "index": 2,
    "source": [
      "注文数量は、$100の名目価値に相当するように決定されます。"
    ]
  },
  {
    "index": 4,
    "source": [
      "マルチプロセッシングを利用することで、複数の資産のバックテストを同時に実行できます。"
    ]
  },
  {
    "index": 7,
    "source": [
      "個々の資産のエクイティカーブを確認し、複数の資産を組み合わせることで、エクイティカーブがより滑らかになり、リスク調整後のリターンが向上することに気付くことができます。"
    ]
  },
  {
    "index": 9,
    "source": [
      "これは、BTCとETHを除くアルトコインの数に基づいたエクイティカーブを示しています。"
    ]
  },
  {
    "index": 11,
    "source": [
      "## 注文遅延の影響\n",
      "\n",
      "増幅されたフィードレイテンシを適用すると、レイテンシの影響によりパフォーマンスが低下することがわかります。"
    ]
  },
  {
    "index": 15,
    "source": [
      "実際の履歴注文レイテンシを適用すると、増幅されたフィードレイテンシを使用した場合と比較して、パフォーマンスがさらに悪化する可能性があります。"
    ]
  },
  {
    "index": 19,
    "source": [
      "したがって、注文レイテンシを理解することは、より正確なバックテスト結果を達成するために重要です。この理解は、市場メーカーや高頻度トレーダーにとってレイテンシ削減の重要性を強調しています。これが、暗号通貨取引所がメーカーリベートを提供するだけでなく、適格な市場メーカーに低レイテンシのインフラストラクチャを提供する理由です。"
    ]
  },
  {
    "index": 20,
    "source": [
      "## よりシンプルなモデル\n",
      "\n",
      "これまで、$\\xi>0$の場合のみをカバーしましたが、$\\xi=0$の場合は、特に暗号通貨では、よりシンプルで実用的です。\n",
      "\n",
      "[Optimal market making](https://arxiv.org/abs/1605.01862) の式(4.6)と(4.7)を再確認し、それらが実際のシナリオにどのように適用できるかを探ります。\n",
      "\n",
      "最適なビッドクォート深度 $\\delta^{b*}_{approx}$ とアスククォート深度 $\\delta^{a*}_{approx}$ は、$\\xi=0$の場合、公正価格から次のように導出されます:\n",
      "\n",
      "\\begin{align}\n",
      "\\delta^{b*}_{approx}(q) = {1 \\over k} + {{2q + \\Delta} \\over 2}\\sqrt{{{\\gamma \\sigma^2 e} \\over {2A\\Delta k}}} \\label{eq4.6}\\tag{4.6} \\\\\n",
      "\\delta^{a*}_{approx}(q) = {1 \\over k} - {{2q - \\Delta} \\over 2}\\sqrt{{{\\gamma \\sigma^2 e} \\over {2A\\Delta k}}} \\label{eq4.7}\\tag{4.7}\n",
      "\\end{align}\n",
      "\n",
      "次に、$c_1$ と $c_2$ を導入し、平方根からボラティリティ 𝜎 を抽出して定義します:\n",
      "\n",
      "\\begin{align}\n",
      "c_1 = {1 \\over k} \\\\\n",
      "c_2 = \\sqrt{{{\\gamma e} \\over {2A\\Delta k}}}\n",
      "\\end{align}\n",
      "\n",
      "これで、式(4.6)と(4.7)を次のように書き換えることができます:\n",
      "\n",
      "\\begin{align}\n",
      "\\delta^{b*}_{approx}(q) = c_1 + {\\Delta \\over 2} \\sigma c_2 + q \\sigma c_2 \\\\\n",
      "\\delta^{a*}_{approx}(q) = c_1 + {\\Delta \\over 2} \\sigma c_2 - q \\sigma c_2\n",
      "\\end{align}\n",
      "\n",
      "これはより簡潔で、$\\gamma$を調整するだけで済み、その効果はより直接的です。"
    ]
  },
  {
    "index": 27,
    "source": [
      "より高い$\\gamma$では、エクイティカーブにより直線的な線が見られますが、急速に動く市場ではより深刻なドローダウンも経験します。また、スキューが大きいため、ポジションをクローズする傾向が強まり、利益が減少します。"
    ]
  },
  {
    "index": 29,
    "source": [
      "## より多くの資産のケース\n",
      "\n",
      "市場を作る資産が多いほど、リスク調整後のリターンが向上します。この効果は劇的に明らかになります。"
    ]
  }
]