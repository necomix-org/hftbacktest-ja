[
  {
    "index": 0,
    "source": [
      "# カスタムデータの統合\n",
      "\n",
      "カスタムデータをフィードデータ（オーダーブックとトレード）と組み合わせることで、hftbacktestのフルポテンシャルを活用しながら戦略を強化できます。"
    ]
  },
  {
    "index": 1,
    "source": [
      "## スポット価格へのアクセス\n",
      "\n",
      "この例では、スポットBTCUSDTのミッドプライスとUSDM-Futures BTCUSDTのフィードデータを組み合わせます。これにより、基礎価格を考慮した公正価格を推定できるようになります。\n",
      "\n",
      "スポットデータはローカル側でのみ���用されるため、ローカルタイムスタンプが付いている必要があります。次に、バックテストロジックでは、現在のタイムスタンプより前の最新のデータを特定することが課題となります。"
    ]
  },
  {
    "index": 2,
    "source": [
      "生のスポットフィードを処理して、ローカルタイムスタンプとスポットミッドプライスを含むスポットデータを作成します。"
    ]
  },
  {
    "index": 4,
    "source": [
      "現在のタイムスタンプより前の最新のポイントインタイムデータを特定する際に、基差とスポットミッドプライスを表示します。"
    ]
  },
  {
    "index": 7,
    "source": [
      "これは短期間のサンプルですが、基差が平均回帰していることがわかります。特にリベートやゼロ手数料の対象となる場合、統計的裁定取引の機会があるかもしれません。"
    ]
  }
]